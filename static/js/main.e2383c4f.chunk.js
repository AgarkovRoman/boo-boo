(this["webpackJsonpboo-boo"]=this["webpackJsonpboo-boo"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(39),s=n.n(r),o=n(5),i=(n(79),n(80),n(16)),d=n(11),l=n(6),u=n(40),j=n(61),b=n.n(j),O=n(9),h=n.n(O),m="/boo-boo",f="/app",p="/signup",x="/signin",_=n(3),k=n.n(_),v=n(8),y=n(4),g=n(62),N=n.n(g).a.create({baseURL:"https://boo-boo-server.herokuapp.com/api/",headers:{"Access-Control-Allow-Origin":"*"}});N.interceptors.request.use((function(e){if("string"===typeof e.url&&(e.url.includes("/auth/login")||e.url.includes("/auth/registration")))return e;var t=JSON.parse(localStorage.getItem("authUser")||"");return e.headers?(e.headers.Authorization=t?"Bearer ".concat(null===t||void 0===t?void 0:t.accessToken):"",e):void 0}),(function(e){return Promise.reject(e)}));var w=function(e,t){var n={login:e,password:t};return N.post("/auth/login",n).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},S=function(e,t){var n={login:e,password:t};return N.post("/auth/registration",n).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},I=function(e){var t={token:e};return N.post("/auth/logout/",t).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},T=function(){return N.get("/project/byUser").then((function(e){return e.data})).catch((function(e){return console.log(e)}))},C=function(e){return N.post("/project/create",e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},P=function(e){return N.delete("/project/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},E=function(e){return N.post("/task/create",e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},D=function(){return N.get("/task/byUser").then((function(e){return e.data})).catch((function(e){return console.log(e)}))},A=function(e,t){return N.patch("/task/".concat(e),t).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},Y=function(e){return N.delete("/task/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},B="SET_AUTH_USER_DATA",M="SIGN_OUT_USER",L={user:{userId:"",userEmail:"",userName:""}},H=function(e){var t=e.userId,n=e.userEmail,a=e.userName;return{type:B,payload:{userId:t,userEmail:n,userName:a}}},U=function(e){var t=e.userId,n=e.userEmail,a=e.userName;return{type:M,payload:{userId:t,userEmail:n,userName:a}}},K=function(){return function(){var e=Object(v.a)(k.a.mark((function e(t){var n,a,c,r,s,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"===typeof(n=localStorage.getItem("authUser"))&&n.length>0&&(a=JSON.parse(n),c=a.id,r=a.email,s=void 0===r?"":r,o=a.name,t(H({userId:c,userEmail:s,userName:void 0===o?"":o})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=n(63),X=n.n(F),J=n.p+"static/media/logo.f91ee324.svg",R=n(1),V=function(){return Object(R.jsx)(i.b,{to:m,"data-testid":"logo",children:Object(R.jsx)("img",{className:X.a.logo,src:J,alt:"Boo-Boo logo",height:"28",width:"120"})})},W=function(){return Object(R.jsx)("header",{className:h.a.header,"data-testid":"header",children:Object(R.jsx)(V,{})})},Q=function(){var e=Object(u.a)(),t=e.register,n=e.handleSubmit,c=e.errors,r=Object(a.useState)(""),s=Object(l.a)(r,2),d=s[0],j=(s[1],Object(o.b)()),O=Object(a.useCallback)((function(e){return j((t=e.email,n=e.password,function(){var e=Object(v.a)(k.a.mark((function e(a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t,n).then((function(e){localStorage.setItem("authUser",JSON.stringify(e)),a(K())})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var t,n}),[j]);return console.log("SignIn errors: ",c),Object(a.useEffect)((function(){document.title="BOO\u2014BOO: SignIn"})),Object(R.jsx)("div",{className:h.a.mainWrapper,children:Object(R.jsxs)("div",{className:b.a.wrapper,children:[Object(R.jsx)(W,{}),Object(R.jsx)("div",{className:h.a.main,children:Object(R.jsxs)("div",{className:h.a.formBox,children:[Object(R.jsx)("h3",{className:h.a.title,children:"Sign In"}),d,Object(R.jsxs)("form",{className:h.a.form,onSubmit:n(O),children:[Object(R.jsxs)("label",{className:h.a.label,children:["Email",Object(R.jsx)("input",{autoComplete:"on",type:"text",placeholder:"Email",name:"email",ref:t({required:!0,pattern:/^\S+@\S+$/i})})]}),Object(R.jsxs)("label",{className:h.a.label,children:["Password",Object(R.jsx)("input",{autoComplete:"on",type:"password",placeholder:"Password",name:"password",ref:t({required:!0,minLength:6})})]}),Object(R.jsx)("button",{className:h.a.button,"data-testid":"sign-in",type:"submit",children:"Sign In"})]}),Object(R.jsxs)("p",{className:h.a.footerParagraph,children:["Don't have an account yet?",Object(R.jsx)(i.b,{className:h.a.footerLink,to:p,children:"Sign up now"})]})]})})]})})},q=n(64),G=n.n(q),z=function(){var e=Object(u.a)(),t=e.register,n=e.handleSubmit,c=e.errors,r=Object(a.useState)(""),s=Object(l.a)(r,2),d=s[0],j=(s[1],Object(o.b)()),b=Object(a.useCallback)((function(e){return j((t=e.Email,n=e.Password,function(){var e=Object(v.a)(k.a.mark((function e(a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t,n).then((function(e){localStorage.setItem("authUser",JSON.stringify(e)),a(K())})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var t,n}),[j]);return console.log("SignUp errors: ",c),Object(a.useEffect)((function(){document.title="BOO\u2014BOO: SignUp"})),Object(R.jsx)("div",{className:h.a.mainWrapper,children:Object(R.jsxs)("div",{className:G.a.wrapper,children:[Object(R.jsx)(W,{}),Object(R.jsx)("div",{className:h.a.main,children:Object(R.jsxs)("div",{className:h.a.formBox,children:[Object(R.jsx)("h3",{className:h.a.title,children:"Sign Up"}),d,Object(R.jsxs)("form",{className:h.a.form,onSubmit:n(b),children:[Object(R.jsxs)("label",{children:["Email",Object(R.jsx)("input",{type:"text",placeholder:"Email",name:"Email",ref:t({required:!0,pattern:/^\S+@\S+$/i})})]}),Object(R.jsxs)("label",{children:["Password",Object(R.jsx)("input",{type:"password",placeholder:"Password",name:"Password",ref:t({required:!0,minLength:6})})]}),Object(R.jsx)("button",{className:h.a.button,"data-testid":"sign-up",type:"submit",children:"Sign Up"})]}),Object(R.jsxs)("p",{className:h.a.footerParagraph,children:["Already have an account?",Object(R.jsx)(i.b,{className:h.a.footerLink,to:x,children:"Sign in now"})]})]})})]})})},Z=n(49),$=function(e){return e.userId&&e.userId.length>0};function ee(e){var t=e.user,n=e.loggedInPath,a=e.children,c=Object(Z.a)(e,["user","loggedInPath","children"]);return Object(R.jsx)(d.b,Object(y.a)(Object(y.a)({},c),{},{render:function(){return $(t)?Object(R.jsx)(d.a,{to:{pathname:n}}):$(t)?null:a}}))}function te(e){var t=e.user,n=e.children,a=Object(Z.a)(e,["user","children"]);return Object(R.jsx)(d.b,Object(y.a)(Object(y.a)({},a),{},{render:function(e){var a=e.location;return $(t)?n:$(t)?null:Object(R.jsx)(d.a,{to:{pathname:x,state:{from:a}}})}}))}var ne=n(22),ae=n.n(ne),ce=function(){return Object(a.useEffect)((function(){document.title="BOO\u2014BOO: Home"})),Object(R.jsx)("div",{className:h.a.mainWrapper,"data-testid":"home-page",children:Object(R.jsxs)("div",{className:ae.a.homePageBody,children:[Object(R.jsxs)("header",{className:ae.a.header,children:[Object(R.jsx)(V,{}),Object(R.jsx)("nav",{className:ae.a.navList,children:Object(R.jsxs)("ul",{className:ae.a.navListUl,children:[Object(R.jsx)("li",{className:ae.a.navListElement,children:Object(R.jsx)(i.b,{to:x,children:"Sign In"})}),Object(R.jsx)("li",{className:"".concat(ae.a.navListElement," ").concat(ae.a.navListElement__mainColored),children:Object(R.jsx)(i.b,{to:p,children:"Sign Up"})})]})})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("h1",{className:ae.a.headerTitle,children:"Keep an eye\n on your tasks."}),Object(R.jsx)("div",{className:ae.a.getStartedContainer,children:Object(R.jsx)(i.b,{className:ae.a.getStarted,to:x,children:"Get started"})})]}),Object(R.jsx)("div",{className:ae.a.manImage})]})})},re=n(12),se=n(26),oe=n.n(se),ie=n(20),de=n(25),le=n.n(de),ue=n(13),je=n.n(ue),be=n(35),Oe=n.n(be),he=function(e){return e.projects.activeProject},me=function(e){return e.projects.allProjects},fe=function(e){var t=e.setProject,n=e.showProjectOverlay,a=e.setShowProjectOverlay,c=Object(o.c)((function(e){return me(e)}));return Object(R.jsx)(R.Fragment,{children:c&&n&&Object(R.jsx)("div",{className:Oe.a.projectOverlay,"data-testid":"project-overlay",children:Object(R.jsx)("ul",{className:Oe.a.overlayList,children:c.map((function(e){return Object(R.jsx)("li",{className:Oe.a.listItem,children:Object(R.jsx)("div",{className:Oe.a.listElement,"data-testid":"project-overlay-action",onClick:function(){t(e.id),a(!1)},onKeyDown:function(n){"Enter"===n.key&&(t(e.id),a(!1))},role:"button",tabIndex:0,"aria-label":"Select the task project",children:e.name})},e.id)}))})})})},pe=n(28),xe=n.n(pe),_e=function(e){var t=e.setShowTaskDate,n=e.setTaskDate,a=e.showTaskDate;return Object(R.jsx)(R.Fragment,{children:a&&Object(R.jsx)("div",{className:xe.a.taskDate,"data-testid":"task-date-overlay",children:Object(R.jsxs)("ul",{className:xe.a.list,children:[Object(R.jsx)("li",{className:xe.a.listItem,children:Object(R.jsxs)("div",{className:xe.a.listItemElement,"aria-label":"Select today as the task date",onClick:function(){t(!1),n(le()().format("DD/MM/YYYY"))},onKeyDown:function(e){"Enter"===e.key&&(t(!1),n(le()().format("DD/MM/YYYY")))},role:"button","data-testid":"task-date-today",tabIndex:0,children:[Object(R.jsx)("span",{children:Object(R.jsx)(ie.g,{})}),Object(R.jsx)("span",{children:"Today"})]})}),Object(R.jsx)("li",{className:xe.a.listItem,children:Object(R.jsxs)("div",{className:xe.a.listItemElement,"aria-label":"Select tomorrow as the task date",onClick:function(){t(!1),n(le()().add(1,"day").format("DD/MM/YYYY"))},onKeyDown:function(e){"Enter"===e.key&&(t(!1),n(le()().add(1,"day").format("DD/MM/YYYY")))},role:"button",tabIndex:0,"data-testid":"task-date-tomorrow",children:[Object(R.jsx)("span",{children:Object(R.jsx)(ie.h,{})}),Object(R.jsx)("span",{children:"Tomorrow"})]})}),Object(R.jsx)("li",{className:xe.a.listItem,children:Object(R.jsxs)("div",{className:xe.a.listItemElement,"aria-label":"Select next week as the task date",onClick:function(){t(!1),n(le()().add(7,"day").format("DD/MM/YYYY"))},onKeyDown:function(e){"Enter"===e.key&&(t(!1),n(le()().add(7,"day").format("DD/MM/YYYY")))},role:"button",tabIndex:0,"data-testid":"task-date-next-week",children:[Object(R.jsx)("span",{children:Object(R.jsx)(ie.e,{})}),Object(R.jsx)("span",{children:"Next week"})]})})]})})})},ke=n(48),ve=n.n(ke),ye=function(e){var t=e.onClick,n=e.label,a=e.dataTestId,c=e.color;return Object(R.jsx)("button",{className:"".concat(ve.a.mainBtn," ").concat(ve.a[c]),type:"button",onClick:function(){return t()},"data-testid":a,children:n})},ge=n(10),Ne={allTasks:[]},we="SET_TASKS",Se="ADD_TASK",Ie="ARCHIVED_TASK",Te="DELETE_TASK",Ce=function(e,t){return e.map((function(e){return e.id!==t?Object(y.a)({},e):Object(y.a)(Object(y.a)({},e),{},{archived:!0})}))},Pe=function(e){return{type:we,payload:e}},Ee=function(e){return{type:Se,payload:e}},De=function(e){return{type:Ie,payload:e}},Ae=function(e){return{type:Te,payload:e}},Ye=function(e){var t=e.showAddTaskMain,n=void 0===t||t,c=e.showShouldMain,r=void 0!==c&&c,s=e.showQuickAddTask,i=void 0!==s&&s,d=e.setShowQuickAddTask,u=Object(a.useState)(""),j=Object(l.a)(u,2),b=j[0],O=j[1],h=Object(a.useState)(""),m=Object(l.a)(h,2),f=m[0],p=m[1],x=Object(a.useState)(""),_=Object(l.a)(x,2),y=_[0],g=_[1],N=Object(a.useState)(r),w=Object(l.a)(N,2),S=w[0],I=w[1],T=Object(a.useState)(!1),C=Object(l.a)(T,2),P=C[0],D=C[1],A=Object(a.useState)(!1),Y=Object(l.a)(A,2),B=Y[0],M=Y[1],L=Object(o.b)(),H=Object(o.c)((function(e){return he(e)})),U=Object(a.useCallback)((function(e){return L(function(e){return function(){var t=Object(v.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e).then((function(e){if(e){var t=e.id,a=e.name,c=e.archived,r=e.date,s=e.description,o=e.projectId,i=e.userId;n(Ee({id:t,name:a,archived:c,date:r,description:s,projectId:o,userId:i}))}}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}),[L]),K=function(){var e=y||H,t="";return"TODAY"===e?t=le()().format("DD/MM/YYYY"):"NEXT_7"===e&&(t=le()().add(7,"day").format("DD/MM/YYYY")),b&&e&&U({name:b,description:"",date:t||f,archived:!1,projectId:e})};return Object(R.jsxs)("div",{className:i?je.a.overlay:je.a.addTask,"data-testid":"add-task-comp",children:[n&&!S&&Object(R.jsxs)("div",{className:je.a.shallow,"data-testid":"show-main-action",onClick:function(){return I(!S)},onKeyDown:function(e){"Enter"===e.key&&I(!S)},tabIndex:0,"aria-label":"Add task",role:"button",children:[Object(R.jsx)("span",{className:je.a.plus,children:Object(R.jsx)(re.a,{})}),Object(R.jsx)("span",{className:je.a.text,children:"Add Task"})]}),(S||i)&&Object(R.jsxs)("div",{className:je.a.main,"data-testid":"add-task-main",children:[void 0!==i&&void 0!==d&&Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("div",{"data-testid":"quick-add-task",children:[Object(R.jsx)("h2",{className:je.a.title,children:"Quick Add Task"}),Object(R.jsx)("span",{className:je.a.cancelX,"data-testid":"add-task-quick-cancel","aria-label":"Cancel adding task",onClick:function(){O(""),I(!1),D(!1),d(!1)},onKeyDown:function(e){"Enter"===e.key&&(O(""),I(!1),D(!1),d(!1))},tabIndex:0,role:"button",children:Object(R.jsx)(ie.f,{})})]})}),Object(R.jsx)("div",{className:je.a.taskProjectOverlay,children:Object(R.jsx)(fe,{setProject:g,showProjectOverlay:P,setShowProjectOverlay:D})}),Object(R.jsx)("div",{className:je.a.taskDateOverlay,children:Object(R.jsx)(_e,{setTaskDate:p,showTaskDate:B,setShowTaskDate:M})}),Object(R.jsx)("input",{className:je.a.content,"aria-label":"Enter your task","data-testid":"add-task-content",type:"text",value:b,onChange:function(e){return O(e.target.value)}}),Object(R.jsx)(ye,{onClick:function(){return O(""),g(""),I(!1),D(!1),i&&d?K()&&d(!1):K()},label:"Add Task",color:"primary",dataTestId:"add-task"}),!i&&Object(R.jsx)("span",{className:je.a.buttonCancel,children:Object(R.jsx)(ye,{onClick:function(){O(""),I(!1),D(!1)},label:"Cancel",color:"transparent",dataTestId:"add-task-main-cancel"})}),Object(R.jsx)("span",{className:je.a.project,"data-testid":"show-project-overlay",onClick:function(){return D(!P)},onKeyDown:function(e){"Enter"===e.key&&D(!P)},tabIndex:0,role:"button",children:Object(R.jsx)(ie.d,{})}),Object(R.jsx)("span",{className:je.a.date,"data-testid":"show-task-date-overlay",onClick:function(){return M(!B)},onKeyDown:function(e){"Enter"===e.key&&M(!B)},tabIndex:0,role:"button",children:Object(R.jsx)(ie.c,{})})]})]})},Be=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],d=s[1],u=Object(o.b)(),j=Object(a.useCallback)((function(){return u(function(){var e=Object(v.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("string"===typeof(n=localStorage.getItem("authUser"))&&n.length>0)){e.next=7;break}return a=JSON.parse(n),e.next=5,I(a.refreshToken).then((function(){t(U({userId:"",userEmail:"",userName:""})),localStorage.removeItem("authUser")})).catch((function(e){return console.log(e)}));case 5:e.next=8;break;case 7:console.log("Sorry, we can't logout you, try again later :(");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[u]);return Object(R.jsxs)("header",{className:oe.a.header,"data-testid":"header",children:[Object(R.jsxs)("nav",{className:oe.a.navigation,children:[Object(R.jsx)("div",{className:oe.a.burger,"aria-label":"Close/Open sidebar",children:Object(R.jsx)("button",{className:oe.a.headerBtn,"data-testid":"Close/Open sidebar",type:"button",children:Object(R.jsx)(re.d,{})})}),Object(R.jsx)("div",{className:oe.a.settings,children:Object(R.jsxs)("ul",{children:[Object(R.jsx)("li",{"aria-label":"Quick add task",className:oe.a.settingsItem,children:Object(R.jsx)("button",{type:"button","data-testid":"quick-add-task-action",className:oe.a.headerBtn,onClick:function(){d(!0),c(!0)},children:Object(R.jsx)(re.a,{})})}),Object(R.jsx)("li",{"aria-label":"Sign out",className:oe.a.settingsItem,children:Object(R.jsx)("button",{type:"button",className:oe.a.headerBtn,"data-testid":"sign-out",onClick:j,children:Object(R.jsx)(re.f,{})})})]})})]}),Object(R.jsx)(Ye,{showAddTaskMain:!1,showShouldMain:n,showQuickAddTask:i,setShowQuickAddTask:d})]})},Me=n(65),Le=n.n(Me),He=n(19),Ue=n.n(He),Ke=n(106),Fe=n(29),Xe=n.n(Fe),Je="INBOX",Re="TODAY",Ve="NEXT_7",We="SET_ACTIVE_PROJECT",Qe="SET_ALL_PROJECTS",qe="ADD_PROJECT",Ge="DELETE_PROJECT",ze={activeProject:Je,allProjects:[]},Ze=function(e){return{type:We,payload:e}},$e=function(e){return{type:qe,payload:e}},et=function(e){return{type:Ge,payload:e}},tt=n(41),nt=n.n(tt),at=function(e){var t=e.description,n=e.deleteTask,a=e.onClose;return Object(R.jsxs)("div",{className:nt.a.modal,"data-testid":"small-modal-window",children:[Object(R.jsx)("p",{className:nt.a.title,children:t}),Object(R.jsxs)("div",{className:nt.a.buttons,children:[Object(R.jsx)(ye,{onClick:function(){n()},label:"Delete",color:"primary",dataTestId:"small-modal-window-delete"}),Object(R.jsx)(ye,{onClick:function(){return a()},label:"Cancel",color:"transparent",dataTestId:"small-modal-window-cancel"})]})]})},ct=function(e){var t=e.project,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useRef)(null),d=Object(o.c)((function(e){return he(e)})),u=Object(o.b)(),j=Object(a.useCallback)((function(e){return u(Ze(e))}),[u]),b=Object(a.useCallback)((function(e){return u(function(e){return function(){var t=Object(v.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e).then((function(t){t&&t.success&&n(et(e))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}),[u]),O=function(){s(!r)};return function(e,t,n){var c=Object(a.useCallback)((function(t){e.current&&!e.current.contains(t.target)&&n()}),[n,e]);Object(a.useEffect)((function(){return t?document.addEventListener("mousedown",c):document.removeEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}}),[t,c])}(i,r,O),Object(R.jsx)(R.Fragment,{children:Object(R.jsx)("li",{className:"".concat(Xe.a.project," ").concat(d===t.id?Xe.a.active:""),"data-testid":"project-action-parent",children:Object(R.jsxs)("div",{className:Xe.a.projectAction,children:[Object(R.jsxs)("div",{className:Xe.a.projectItem,"data-testid":"project-action","aria-label":"Select ".concat(t.name," as the task project"),role:"button",tabIndex:0,onClick:function(){j(t.id)},onKeyDown:function(e){"Enter"===e.key&&j(t.id)},children:[Object(R.jsx)("span",{className:Xe.a.dot,children:"\u2022"}),Object(R.jsx)("span",{children:t.name})]}),Object(R.jsxs)("div",{className:Xe.a.delete,"data-testid":"delete-project",onClick:function(){return O()},onKeyDown:function(e){"Enter"===e.key&&O()},tabIndex:0,role:"button","aria-label":"Confirm deletion of project",children:[Object(R.jsx)(re.e,{}),r&&Object(R.jsx)("div",{className:Xe.a.deleteModal,ref:i,children:Object(R.jsx)(at,{description:"Are you sure you want to delete this project?",deleteTask:function(){b(t.id),j(Je)},onClose:function(){return s(!1)}})})]})]})},t.id)})},rt=function(){var e=Object(o.c)((function(e){return me(e)}));return Object(R.jsx)("div",{"data-testid":"all-projects",children:e&&e.map((function(e){return Object(R.jsx)(ct,{project:e},Object(Ke.a)())}))})},st=n(30),ot=n.n(st),it=function(e){var t=e.shouldShow,n=void 0!==t&&t,c=Object(a.useState)(n),r=Object(l.a)(c,2),s=r[0],i=r[1],d=Object(a.useState)({name:"",description:"",id:""}),u=Object(l.a)(d,2),j=u[0],b=u[1],O=Object(o.b)(),h=Object(a.useCallback)((function(e){return O(function(e){return function(){var t=Object(v.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e).then((function(e){if(e){var t=e.id,a=e.name,c=e.description;n($e({id:t,name:a,description:c}))}}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}),[O]);return Object(R.jsxs)("div",{className:ot.a.wrapper,"data-testid":"add-project",children:[!s&&Object(R.jsxs)("div",{className:ot.a.addProject,"aria-label":"Add Project","data-testid":"add-project-action",onClick:function(){return i(!0)},onKeyDown:function(e){"Enter"===e.key&&i(!0)},role:"button",tabIndex:0,children:[Object(R.jsx)("span",{className:ot.a.plus,children:Object(R.jsx)(re.a,{})}),Object(R.jsx)("span",{className:ot.a.text,children:"Add Project"})]}),s&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:ot.a.input,"data-testid":"add-project-inner",children:Object(R.jsx)("input",{value:j.name,onChange:function(e){return b(Object(y.a)(Object(y.a)({},j),{},{name:e.target.value}))},className:ot.a.name,"data-testid":"project-name",type:"text",placeholder:"Name your project"})}),Object(R.jsxs)("div",{className:ot.a.buttons,children:[Object(R.jsx)(ye,{color:"primary",label:"Add Project",onClick:function(){return h(j),b(Object(y.a)(Object(y.a)({},j),{},{name:""})),void i(!1)},dataTestId:"add-project-submit"}),Object(R.jsx)(ye,{color:"transparent",label:"Cancel",onClick:function(){return i(!1)},dataTestId:"hide-project-overlay"})]})]})]})},dt=n(66),lt=n.n(dt),ut=function(e){var t=e.count;return Object(R.jsx)(R.Fragment,{children:t>0&&Object(R.jsx)("span",{"data-testid":"task-counter",className:lt.a.counter,children:t})})},jt=n(27),bt=function(e){return e.tasks.allTasks},Ot=Object(jt.a)(bt,(function(e){return e.filter((function(e){return!e.archived}))})),ht=Object(jt.a)(Ot,(function(e){return e.filter((function(e){return e.projectId===Je})).length})),mt=Object(jt.a)(Ot,(function(e){return e.filter((function(e){return e.projectId===Re})).length})),ft=Object(jt.a)(Ot,(function(e){return e.filter((function(e){return e.projectId===Ve})).length})),pt=function(e){var t=e.userId,n=Object(a.useState)(!0),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(o.b)(),d=Object(a.useCallback)((function(){return i(function(){var e=Object(v.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T().then((function(e){return e?t({type:Qe,payload:e}):null})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[i]),u=Object(a.useCallback)((function(){return i(function(){var e=Object(v.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D().then((function(e){return e?t(Pe(e)):null}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[i]),j=Object(a.useCallback)((function(e){return i(Ze(e))}),[i]),b=Object(a.useMemo)((function(){return ht}),[]),O=Object(a.useMemo)((function(){return mt}),[]),h=Object(a.useMemo)((function(){return ft}),[]),m=Object(o.c)((function(e){return b(e)})),f=Object(o.c)((function(e){return O(e)})),p=Object(o.c)((function(e){return h(e)})),x=Object(o.c)((function(e){return he(e)}));return Object(a.useEffect)((function(){d(),u()}),[i,d,u]),Object(R.jsxs)("div",{className:Ue.a.sidebar,"data-testid":"sidebar",children:[Object(R.jsxs)("ul",{className:Ue.a.generic,children:[Object(R.jsx)("li",{"data-testid":"inbox",className:x===Je?Ue.a.active:"",children:Object(R.jsxs)("div",{"aria-label":"Show inbox tasks","data-testid":"inbox-action",onClick:function(){j(Je)},onKeyDown:function(e){"Enter"===e.key&&j(Je)},role:"button",tabIndex:0,children:[Object(R.jsx)("span",{children:Object(R.jsx)(ie.a,{})}),Object(R.jsx)("span",{children:"Inbox"}),Object(R.jsx)("span",{className:Ue.a.taskCounterContainer,children:Object(R.jsx)(ut,{count:m})})]})}),Object(R.jsx)("li",{"data-testid":"today",className:x===Re?Ue.a.active:"",children:Object(R.jsx)("div",{"aria-label":"Show today`s tasks","data-testid":"today-action",onClick:function(){j(Re)},onKeyDown:function(e){"Enter"===e.key&&j(Re)},role:"button",tabIndex:0,children:Object(R.jsxs)("span",{children:[Object(R.jsx)("span",{children:Object(R.jsx)(ie.b,{})}),Object(R.jsx)("span",{children:"Today"}),Object(R.jsx)("span",{className:Ue.a.taskCounterContainer,children:Object(R.jsx)(ut,{count:f})})]})})}),Object(R.jsx)("li",{"data-testid":"next_7",className:x===Ve?Ue.a.active:"",children:Object(R.jsxs)("div",{"aria-label":"Show tasks for the next 7 days","data-testid":"next_7-action",onClick:function(){j(Ve)},onKeyDown:function(e){"Enter"===e.key&&j(Ve)},role:"button",tabIndex:0,children:[Object(R.jsx)("span",{children:Object(R.jsx)(ie.c,{})}),Object(R.jsx)("span",{children:"Next 7 days"}),Object(R.jsx)("span",{className:Ue.a.taskCounterContainer,children:Object(R.jsx)(ut,{count:p})})]})})]}),Object(R.jsxs)("div",{className:Ue.a.middle,onClick:function(){return s(!r)},onKeyDown:function(e){"Enter"===e.key&&s(!r)},"aria-label":"".concat(r?"Hide":"Show"," projects"),role:"button",tabIndex:0,children:[Object(R.jsx)("span",{className:Ue.a.iconChevron,children:Object(R.jsx)(re.c,{className:r?"":Ue.a.hiddenProject})}),Object(R.jsx)("h2",{children:"Projects"})]}),Object(R.jsx)("ul",{className:Ue.a.projects,children:r&&Object(R.jsx)(rt,{})}),r&&Object(R.jsx)(it,{userId:t})]})},xt=(n(104),[{key:"INBOX",name:"Inbox"},{key:"TODAY",name:"Today"},{key:"NEXT_7",name:"Next 7 Days"}]),_t=function(e){return xt.find((function(t){return t.key===e}))},kt=n(36),vt=n.n(kt),yt=n(42),gt=n.n(yt),Nt=function(e){var t=e.name,n=e.archiveTask,c=Object(a.useState)(!1),r=Object(l.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)(!1),d=Object(l.a)(i,2),u=d[0],j=d[1],b=function(){j(!0),setTimeout((function(){return n()}),300)};return Object(R.jsx)("div",{className:gt.a.checkboxHolder,"data-testid":"checkbox-action",onClick:function(){return b()},onKeyDown:function(e){"Enter"===e.key&&b()},"aria-label":"Mark ".concat(t," as done?"),role:"button",tabIndex:0,children:Object(R.jsx)("span",{className:"".concat(gt.a.checkbox," ").concat(u&&gt.a.checkboxChecked),"data-testid":"checkbox-circle",onMouseEnter:function(){return o(!0)},onMouseOver:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:(s||u)&&Object(R.jsx)("span",{"data-testid":"checkbox-icon",children:Object(R.jsx)(re.b,{})})})})},wt=function(e){var t=e.id,n=e.name,c=e.description,r=e.archived,s=e.date,i=e.projectId,d=Object(a.useState)(!1),u=Object(l.a)(d,2),j=u[0],b=u[1],O=Object(o.b)(),h=Object(a.useCallback)((function(e){return O(function(e){return function(){var t=Object(v.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e).then((function(){return n(Ae(e))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}),[O]),m=Object(a.useCallback)((function(){return O((e=t,a={name:n,description:c,archived:r,date:s,projectId:i},function(){var t=Object(v.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,A(e,a).then((function(){return n(De(e))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e,a}),[O,t,n,c,r,s,i]);return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("li",{"data-testid":"task",children:[Object(R.jsxs)("div",{className:vt.a.taskBody,children:[Object(R.jsx)(Nt,{name:n,archiveTask:m}),Object(R.jsx)("span",{className:vt.a.name,children:n})]}),Object(R.jsxs)("div",{className:vt.a.kebab,"data-testid":"task-kebab",role:"button",tabIndex:0,"aria-label":"".concat(j?"Close":"Open",' delete task "').concat(n,'" modal?'),onClick:function(){return b(!j)},onKeyDown:function(e){"Enter"===e.key&&b(!j)},children:[Object(R.jsx)(re.e,{}),j&&Object(R.jsx)("div",{className:vt.a.modal,children:Object(R.jsx)(at,{description:"Are you sure you want to delete this task?",deleteTask:function(){return h(t)},onClose:function(){return b(!1)}})})]})]})})},St=function(){var e,t=Object(o.c)((function(e){return he(e)})),n=Object(o.c)((function(e){return me(e)})),c=Object(o.c)((function(e){return bt(e)})),r=function(){var e="";return n&&n.length>0&&t&&!_t(t)&&(e=function(e,t){var n=e.find((function(e){return e.id===t}));return void 0!==n?n.name:""}(n,t)),_t(t)&&t&&(e=function(e,t){var n=e.find((function(e){return e.key===t}));return void 0!==n?n.name:""}(xt,t)),e}(),s=(e=t,c.filter((function(t){return t.projectId===e&&!t.archived})));return Object(a.useEffect)((function(){document.title="BOO\u2014BOO: ".concat(r," tasks")}),[r]),Object(R.jsxs)("div",{className:"tasks","data-testid":"tasks",children:[Object(R.jsx)("h2",{"data-testid":"project-name",children:r}),s.length>0&&Object(R.jsx)("ul",{className:"tasks__list",children:s.map((function(e){return Object(R.jsx)(wt,{id:e.id,name:e.name,archived:e.archived,projectId:t,date:e.date,description:e.description},Object(Ke.a)())}))}),Object(R.jsx)(Ye,{}),0===s.length&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"tasks__done"}),Object(R.jsx)("div",{className:"tasks__done-text","data-testid":"task-not-found",children:"All tasks are done! Nice work!"})]})]})},It=function(e){var t=e.userId;return Object(R.jsxs)("section",{className:Le.a.content,"data-testid":"content",children:[Object(R.jsx)(pt,{userId:t}),Object(R.jsx)(St,{})]})},Tt=function(e){var t=e.userId;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Be,{}),Object(R.jsx)(It,{userId:t})]})},Ct=function(){var e=Object(o.c)((function(e){return function(e){return e.auth.user}(e)}));return Object(R.jsx)(i.a,{children:Object(R.jsx)("main",{"data-testid":"application",children:Object(R.jsxs)(d.d,{children:[Object(R.jsx)(ee,{user:e,loggedInPath:f,path:x,exact:!0,children:Object(R.jsx)(Q,{})}),Object(R.jsx)(ee,{user:e,loggedInPath:f,path:p,exact:!0,children:Object(R.jsx)(z,{})}),Object(R.jsx)(te,{user:e,path:f,exact:!0,children:Object(R.jsx)(Tt,{userId:e.userId})}),Object(R.jsx)(ee,{user:e,loggedInPath:f,path:m,exact:!0,children:Object(R.jsx)(ce,{})})]})})})},Pt=function(){var e=Object(o.b)();return Object(a.useEffect)((function(){e(K())}),[e]),Object(R.jsx)(Ct,{})},Et=n(67),Dt={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:case M:return Object(y.a)(Object(y.a)({},e),{},{user:Object(y.a)({},t.payload)});default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case We:return Object(y.a)(Object(y.a)({},e),{},{activeProject:a});case Qe:return Object(y.a)(Object(y.a)({},e),{},{allProjects:a});case qe:return Object(y.a)(Object(y.a)({},e),{},{allProjects:[].concat(Object(ge.a)(e.allProjects),[a])});case Ge:return Object(y.a)(Object(y.a)({},e),{},{allProjects:e.allProjects.filter((function(e){return e.id!==a}))});default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case we:return Object(y.a)(Object(y.a)({},e),{},{allTasks:a});case Se:return Object(y.a)(Object(y.a)({},e),{},{allTasks:[].concat(Object(ge.a)(e.allTasks),[a])});case Ie:return Object(y.a)(Object(y.a)({},e),{},{allTasks:Ce(e.allTasks,a)});case Te:return Object(y.a)(Object(y.a)({},e),{},{allTasks:e.allTasks.filter((function(e){return e.id!==a}))});default:return e}}},At=Object(Et.a)({reducer:Dt});s.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(o.a,{store:At,children:Object(R.jsx)(Pt,{})})}),document.getElementById("root"))},13:function(e,t,n){e.exports={addTask:"AddTask_addTask__247g5",main:"AddTask_main__2suij",shallow:"AddTask_shallow__34SD6",plus:"AddTask_plus__29Hky",text:"AddTask_text__1pUs7",overlay:"AddTask_overlay__UCtHf",header:"AddTask_header__236mU",title:"AddTask_title__2fiTG",cancelX:"AddTask_cancelX__3IxMi",content:"AddTask_content__FA1wB",buttonCancel:"AddTask_buttonCancel__1OOQX",project:"AddTask_project__2R26n",date:"AddTask_date__3t2Yo",taskDateOverlay:"AddTask_taskDateOverlay__ipeCL",taskProjectOverlay:"AddTask_taskProjectOverlay__1hYjV"}},19:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__36giv",middle:"Sidebar_middle__gFftU",iconChevron:"Sidebar_iconChevron__3Ntzn",hiddenProject:"Sidebar_hiddenProject__3YLn0",generic:"Sidebar_generic__2XBE3",taskCounterContainer:"Sidebar_taskCounterContainer__1hy2o",active:"Sidebar_active__1PTZk",projects:"Sidebar_projects__RHQnX"}},22:function(e,t,n){e.exports={homePageBody:"HomePage_homePageBody__1p_Dc",header:"HomePage_header__1uVwF",navList:"HomePage_navList__2XlV5",navListUl:"HomePage_navListUl__3uRyH",navListElement:"HomePage_navListElement__17SYm",navListElement__mainColored:"HomePage_navListElement__mainColored__3vGix",headerTitle:"HomePage_headerTitle__XTBKu",getStartedContainer:"HomePage_getStartedContainer__3opGX",getStarted:"HomePage_getStarted__1Hh2k",manImage:"HomePage_manImage__H5jcM"}},26:function(e,t,n){e.exports={header:"Header_header__1xxN3",headerBtn:"Header_headerBtn__19mAz",navigation:"Header_navigation__15sPt",burger:"Header_burger__2VTYI",settings:"Header_settings__2Ks38",settingsItem:"Header_settingsItem__3fYSe"}},28:function(e,t,n){e.exports={taskDate:"TaskDate_taskDate__KR9yh",list:"TaskDate_list__1zvCm",listItem:"TaskDate_listItem__14yXg",listItemElement:"TaskDate_listItemElement__1OsMY"}},29:function(e,t,n){e.exports={project:"IndividualProject_project__VtYXr",active:"IndividualProject_active__24bEM",projectAction:"IndividualProject_projectAction__HEjJA",projectItem:"IndividualProject_projectItem__33dls",dot:"IndividualProject_dot__f2Vyn",delete:"IndividualProject_delete__3_0BF",deleteModal:"IndividualProject_deleteModal__1IO0J"}},30:function(e,t,n){e.exports={addProject:"AddProject_addProject__2SXrN",wrapper:"AddProject_wrapper__18Cve",plus:"AddProject_plus__oaKh0",text:"AddProject_text__2A1gh",input:"AddProject_input__3TzLa",name:"AddProject_name__3T6fm",buttons:"AddProject_buttons__gWQVT"}},35:function(e,t,n){e.exports={projectOverlay:"ProjectOverlay_projectOverlay__25B1U",overlayList:"ProjectOverlay_overlayList__1YEIh",listItem:"ProjectOverlay_listItem__qSwBX"}},36:function(e,t,n){e.exports={taskBody:"Task_taskBody__2pH5n",name:"Task_name__O7Lfi",kebab:"Task_kebab__wTaYh",modal:"Task_modal__y0O5W"}},41:function(e,t,n){e.exports={modal:"SmallModalWindow_modal__32f6t",title:"SmallModalWindow_title__2cOc8",buttons:"SmallModalWindow_buttons__2uVZn"}},42:function(e,t,n){e.exports={checkboxHolder:"Checkbox_checkboxHolder__WwdEp",checkbox:"Checkbox_checkbox__SJQ2s",checkboxChecked:"Checkbox_checkboxChecked__10OfZ"}},48:function(e,t,n){e.exports={mainBtn:"Button_mainBtn__IYNtc",primary:"Button_primary__CVuDV",transparent:"Button_transparent__3nKLn"}},61:function(e,t,n){e.exports={wrapper:"SignIn_wrapper__1xQ3y"}},63:function(e,t,n){e.exports={logo:"Logo_logo__4XOk3"}},64:function(e,t,n){e.exports={wrapper:"SignUp_wrapper__2k8W1"}},65:function(e,t,n){e.exports={content:"Content_content__3Yreh"}},66:function(e,t,n){e.exports={counter:"TaskCounter_counter__hGZux"}},79:function(e,t,n){},9:function(e,t,n){e.exports={mainWrapper:"mainStylesForPages_mainWrapper__3mJd3",header:"mainStylesForPages_header__2hgyn",main:"mainStylesForPages_main__2vKU-",formBox:"mainStylesForPages_formBox__jBbCe",title:"mainStylesForPages_title__10FUb",form:"mainStylesForPages_form__3dZ9o",button:"mainStylesForPages_button__1-rJd",footerParagraph:"mainStylesForPages_footerParagraph__35Iet",footerLink:"mainStylesForPages_footerLink__22M9p"}}},[[105,1,2]]]);
//# sourceMappingURL=main.e2383c4f.chunk.js.map