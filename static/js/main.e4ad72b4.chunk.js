(this["webpackJsonpboo-boo"]=this["webpackJsonpboo-boo"]||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(42),s=a.n(r),o=a(6),i=(a(83),a(84),a(18)),d=a(11),l=a(5),u=a(43),j=a(66),b=a.n(j),h=a(8),O=a.n(h),m="/boo-boo",p="/app",f="/signup",x="/signin",_=a(67),v=a.n(_),k=a.p+"static/media/logo.f91ee324.svg",g=a(1),y=function(){return Object(g.jsx)(i.b,{to:m,"data-testid":"logo",children:Object(g.jsx)("img",{className:v.a.logo,src:k,alt:"Boo-Boo logo",height:"28",width:"120"})})},N=a(4),w=a.n(N),S=a(12),I=a(68),P=a.n(I),T=a(51),C="https://boo-boo-server.herokuapp.com/api/",A=P.a.create({baseURL:C,headers:{"Access-Control-Allow-Origin":"*"}});A.interceptors.request.use((function(e){if("string"===typeof e.url&&(e.url.includes("/auth/login")||e.url.includes("/auth/registration")))return e;var t=JSON.parse(localStorage.getItem("authUser")||"");return e.headers?(e.headers.Authorization=t?"Bearer ".concat(null===t||void 0===t?void 0:t.accessToken):"",e):void 0}),(function(e){return Promise.reject(e)}));var E=function(e,t){var a={login:e,password:t};return A.post("/auth/login",a).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},D=function(e,t){var a={login:e,password:t};return A.post("/auth/registration",a).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},B=function(e){var t={token:e};return A.post("/auth/logout/",t).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},M=Object(T.createApi)({reducerPath:"projectsAPI",baseQuery:Object(T.fetchBaseQuery)({baseUrl:C,prepareHeaders:function(e){var t=JSON.parse(localStorage.getItem("authUser")||"");return t&&e.set("authorization","Bearer ".concat(null===t||void 0===t?void 0:t.accessToken)),e}}),endpoints:function(e){return{getAllProjectsById:e.query({query:function(){return{url:"/project/byUser"}}}),deleteProject:e.mutation({query:function(e){return{url:"/project/".concat(e),method:"DELETE"}}}),addProject:e.mutation({query:function(e){return{url:"/project/create",method:"POST",body:e}}})}}}),Y=function(e){return A.post("/task/create",e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},L=function(){return A.get("/task/byUser").then((function(e){return e.data})).catch((function(e){return console.log(e)}))},U=function(e,t){return A.patch("/task/".concat(e),t).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},F=function(e){return A.delete("/task/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},H="SET_AUTH_USER_DATA",K="SIGN_OUT_USER",Q={user:{userId:"",userEmail:"",userName:""}},q=function(e){var t=e.userId,a=e.userEmail,n=e.userName;return{type:H,payload:{userId:t,userEmail:a,userName:n}}},X=function(e){var t=e.userId,a=e.userEmail,n=e.userName;return{type:K,payload:{userId:t,userEmail:a,userName:n}}},J=function(){return function(){var e=Object(S.a)(w.a.mark((function e(t){var a,n,c,r,s,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"===typeof(a=localStorage.getItem("authUser"))&&a.length>0&&(n=JSON.parse(a),c=n.id,r=n.email,s=void 0===r?"":r,o=n.name,t(q({userId:c,userEmail:s,userName:void 0===o?"":o})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V=function(){return Object(g.jsx)("header",{className:O.a.header,"data-testid":"header",children:Object(g.jsx)(y,{})})},G=function(){var e=Object(u.a)(),t=e.register,a=e.handleSubmit,c=e.formState.errors,r=Object(o.useDispatch)(),s=Object(n.useCallback)((function(e){return r((t=e.email,a=e.password,function(){var e=Object(S.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t,a).then((function(e){localStorage.setItem("authUser",JSON.stringify(e)),n(J())})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var t,a}),[r]);return Object(n.useEffect)((function(){document.title="BOO\u2014BOO: Sign In"})),Object(g.jsx)("div",{className:O.a.mainWrapper,children:Object(g.jsxs)("div",{className:b.a.wrapper,children:[Object(g.jsx)(V,{}),Object(g.jsx)("div",{className:O.a.main,children:Object(g.jsxs)("div",{className:O.a.formBox,children:[Object(g.jsx)("h3",{className:O.a.title,children:"Sign In"}),Object(g.jsxs)("form",{className:O.a.form,onSubmit:a(s),children:[Object(g.jsxs)("label",{className:O.a.label,children:["Email",Object(g.jsx)("input",Object(l.a)({type:"text",placeholder:"Email"},t("email",{pattern:{value:/^\S+@\S+$/i,message:"Incorrect email"},required:"This input is required."})))]}),Object(g.jsx)("div",{children:(null===c||void 0===c?void 0:c.email)&&Object(g.jsx)("p",{className:O.a.errorMessage,children:null===c||void 0===c?void 0:c.email.message})}),Object(g.jsxs)("label",{className:O.a.label,children:["Password",Object(g.jsx)("input",Object(l.a)({type:"password",placeholder:"Password"},t("password",{required:"This input is required."})))]}),Object(g.jsx)("div",{children:(null===c||void 0===c?void 0:c.password)&&Object(g.jsx)("p",{className:O.a.errorMessage,children:null===c||void 0===c?void 0:c.password.message})}),Object(g.jsx)("input",{className:O.a.button,"data-testid":"sign-in",value:"Sign In",type:"submit"})]}),Object(g.jsxs)("p",{className:O.a.footerParagraph,children:["Don't have an account yet?",Object(g.jsx)(i.b,{className:O.a.footerLink,to:f,children:"Sign up now"})]})]})})]})})},W=a(69),R=a.n(W),Z=function(){var e=Object(u.a)(),t=e.register,a=e.handleSubmit,c=e.formState.errors,r=Object(o.useDispatch)(),s=Object(n.useCallback)((function(e){return r((t=e.email,a=e.password,function(){var e=Object(S.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,a).then((function(e){localStorage.setItem("authUser",JSON.stringify(e)),n(J())})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var t,a}),[r]);return console.log("SignUp errors: ",c),Object(n.useEffect)((function(){document.title="BOO\u2014BOO: SignUp"})),Object(g.jsx)("div",{className:O.a.mainWrapper,children:Object(g.jsxs)("div",{className:R.a.wrapper,children:[Object(g.jsx)(V,{}),Object(g.jsx)("div",{className:O.a.main,children:Object(g.jsxs)("div",{className:O.a.formBox,children:[Object(g.jsx)("h3",{className:O.a.title,children:"Sign Up"}),Object(g.jsxs)("form",{className:O.a.form,onSubmit:a(s),children:[Object(g.jsxs)("label",{className:O.a.label,children:["Email",Object(g.jsx)("input",Object(l.a)({type:"text",placeholder:"Email"},t("email",{pattern:{value:/^\S+@\S+$/i,message:"Incorrect email"},required:"This input is required."})))]}),Object(g.jsx)("div",{children:(null===c||void 0===c?void 0:c.email)&&Object(g.jsx)("p",{className:O.a.errorMessage,children:null===c||void 0===c?void 0:c.email.message})}),Object(g.jsxs)("label",{className:O.a.label,children:["Password",Object(g.jsx)("input",Object(l.a)({type:"password",placeholder:"Password"},t("password",{minLength:{value:6,message:"Password length should exceed 6 characters"},required:"This input is required."})))]}),Object(g.jsx)("div",{children:(null===c||void 0===c?void 0:c.password)&&Object(g.jsx)("p",{className:O.a.errorMessage,children:null===c||void 0===c?void 0:c.password.message})}),Object(g.jsx)("button",{className:O.a.button,"data-testid":"sign-up",type:"submit",children:"Sign Up"})]}),Object(g.jsxs)("p",{className:O.a.footerParagraph,children:["Already have an account?",Object(g.jsx)(i.b,{className:O.a.footerLink,to:x,children:"Sign in now"})]})]})})]})})},z=a(53),$=function(e){return e.userId&&e.userId.length>0};function ee(e){var t=e.user,a=e.loggedInPath,n=e.children,c=Object(z.a)(e,["user","loggedInPath","children"]);return Object(g.jsx)(d.b,Object(l.a)(Object(l.a)({},c),{},{render:function(){return $(t)?Object(g.jsx)(d.a,{to:{pathname:a}}):$(t)?null:n}}))}function te(e){var t=e.user,a=e.children,n=Object(z.a)(e,["user","children"]);return Object(g.jsx)(d.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){var n=e.location;return $(t)?a:$(t)?null:Object(g.jsx)(d.a,{to:{pathname:x,state:{from:n}}})}}))}var ae=a(27),ne=a.n(ae),ce=function(){return Object(n.useEffect)((function(){document.title="BOO\u2014BOO: Home"})),Object(g.jsx)("div",{className:O.a.mainWrapper,"data-testid":"home-page",children:Object(g.jsxs)("div",{className:ne.a.homePageBody,children:[Object(g.jsxs)("header",{className:ne.a.header,children:[Object(g.jsx)(y,{}),Object(g.jsx)("nav",{className:ne.a.navList,children:Object(g.jsxs)("ul",{className:ne.a.navListUl,children:[Object(g.jsx)("li",{className:ne.a.navListElement,children:Object(g.jsx)(i.b,{to:x,children:"Sign In"})}),Object(g.jsx)("li",{className:"".concat(ne.a.navListElement," ").concat(ne.a.navListElement__mainColored),children:Object(g.jsx)(i.b,{to:f,children:"Sign Up"})})]})})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{className:ne.a.headerTitle,children:"Keep an eye\n on your tasks."}),Object(g.jsx)("div",{className:ne.a.getStartedContainer,children:Object(g.jsx)(i.b,{className:ne.a.getStarted,to:x,children:"Get started"})})]}),Object(g.jsx)("div",{className:ne.a.manImage})]})})},re=a(7),se=a(14),oe=a(29),ie=a.n(oe),de=a(25),le=a(28),ue=a.n(le),je=a(15),be=a.n(je),he=a(37),Oe=a.n(he),me=function(e){var t=e.setProject,a=e.showProjectOverlay,n=e.setShowProjectOverlay,c=M.useGetAllProjectsByIdQuery("").data;return Object(g.jsx)(g.Fragment,{children:c&&a&&Object(g.jsx)("div",{className:Oe.a.projectOverlay,"data-testid":"project-overlay",children:Object(g.jsx)("ul",{className:Oe.a.overlayList,children:c.map((function(e){return Object(g.jsx)("li",{className:Oe.a.listItem,children:Object(g.jsx)("div",{className:Oe.a.listElement,"data-testid":"project-overlay-action",onClick:function(){t(e.id),n(!1)},onKeyDown:function(a){"Enter"===a.key&&(t(e.id),n(!1))},role:"button",tabIndex:0,"aria-label":"Select the task project",children:e.name})},e.id)}))})})})},pe=a(30),fe=a.n(pe),xe=function(e){var t=e.setShowTaskDate,a=e.setTaskDate,n=e.showTaskDate;return Object(g.jsx)(g.Fragment,{children:n&&Object(g.jsx)("div",{className:fe.a.taskDate,"data-testid":"task-date-overlay",children:Object(g.jsxs)("ul",{className:fe.a.list,children:[Object(g.jsx)("li",{className:fe.a.listItem,children:Object(g.jsxs)("div",{className:fe.a.listItemElement,"aria-label":"Select today as the task date",onClick:function(){t(!1),a(ue()().format("DD/MM/YYYY"))},onKeyDown:function(e){"Enter"===e.key&&(t(!1),a(ue()().format("DD/MM/YYYY")))},role:"button","data-testid":"task-date-today",tabIndex:0,children:[Object(g.jsx)("span",{children:Object(g.jsx)(de.g,{})}),Object(g.jsx)("span",{children:"Today"})]})}),Object(g.jsx)("li",{className:fe.a.listItem,children:Object(g.jsxs)("div",{className:fe.a.listItemElement,"aria-label":"Select tomorrow as the task date",onClick:function(){t(!1),a(ue()().add(1,"day").format("DD/MM/YYYY"))},onKeyDown:function(e){"Enter"===e.key&&(t(!1),a(ue()().add(1,"day").format("DD/MM/YYYY")))},role:"button",tabIndex:0,"data-testid":"task-date-tomorrow",children:[Object(g.jsx)("span",{children:Object(g.jsx)(de.h,{})}),Object(g.jsx)("span",{children:"Tomorrow"})]})}),Object(g.jsx)("li",{className:fe.a.listItem,children:Object(g.jsxs)("div",{className:fe.a.listItemElement,"aria-label":"Select next week as the task date",onClick:function(){t(!1),a(ue()().add(7,"day").format("DD/MM/YYYY"))},onKeyDown:function(e){"Enter"===e.key&&(t(!1),a(ue()().add(7,"day").format("DD/MM/YYYY")))},role:"button",tabIndex:0,"data-testid":"task-date-next-week",children:[Object(g.jsx)("span",{children:Object(g.jsx)(de.e,{})}),Object(g.jsx)("span",{children:"Next week"})]})})]})})})},_e=a(52),ve=a.n(_e),ke=function(e){var t=e.onClick,a=e.label,n=e.dataTestId,c=e.color;return Object(g.jsx)("button",{className:"".concat(ve.a.mainBtn," ").concat(ve.a[c]),type:"button",onClick:function(){return t()},"data-testid":n,children:a})},ge=function(e){return e.projects.activeProject},ye=a(13),Ne={allTasks:[]},we="SET_TASKS",Se="ADD_TASK",Ie="ARCHIVED_TASK",Pe="DELETE_TASK",Te=function(e,t){return e.map((function(e){return e.id!==t?Object(l.a)({},e):Object(l.a)(Object(l.a)({},e),{},{archived:!0})}))},Ce=function(e){return{type:we,payload:e}},Ae=function(e){return{type:Se,payload:e}},Ee=function(e){return{type:Ie,payload:e}},De=function(e){return{type:Pe,payload:e}},Be=function(e){var t=e.showAddTaskMain,a=void 0===t||t,c=e.showShouldMain,r=void 0!==c&&c,s=e.showQuickAddTask,i=void 0!==s&&s,d=e.setShowQuickAddTask,l=Object(n.useState)(""),u=Object(re.a)(l,2),j=u[0],b=u[1],h=Object(n.useState)(""),O=Object(re.a)(h,2),m=O[0],p=O[1],f=Object(n.useState)(""),x=Object(re.a)(f,2),_=x[0],v=x[1],k=Object(n.useState)(r),y=Object(re.a)(k,2),N=y[0],I=y[1],P=Object(n.useState)(!1),T=Object(re.a)(P,2),C=T[0],A=T[1],E=Object(n.useState)(!1),D=Object(re.a)(E,2),B=D[0],M=D[1],L=Object(o.useDispatch)(),U=Object(o.useSelector)((function(e){return ge(e)})),F=Object(n.useCallback)((function(e){return L(function(e){return function(){var t=Object(S.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e).then((function(e){if(e){var t=e.id,n=e.name,c=e.archived,r=e.date,s=e.description,o=e.projectId,i=e.userId;a(Ae({id:t,name:n,archived:c,date:r,description:s,projectId:o,userId:i}))}}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}),[L]),H=function(){var e=_||U,t="";return"TODAY"===e?t=ue()().format("DD/MM/YYYY"):"NEXT_7"===e&&(t=ue()().add(7,"day").format("DD/MM/YYYY")),j&&e&&F({name:j,description:"",date:t||m,archived:!1,projectId:e})};return Object(g.jsxs)("div",{className:i?be.a.overlay:be.a.addTask,"data-testid":"add-task-comp",children:[a&&!N&&Object(g.jsxs)("div",{className:be.a.shallow,"data-testid":"show-main-action",onClick:function(){return I(!N)},onKeyDown:function(e){"Enter"===e.key&&I(!N)},tabIndex:0,"aria-label":"Add task",role:"button",children:[Object(g.jsx)("span",{className:be.a.plus,children:Object(g.jsx)(se.a,{})}),Object(g.jsx)("span",{className:be.a.text,children:"Add Task"})]}),(N||i)&&Object(g.jsxs)("div",{className:be.a.main,"data-testid":"add-task-main",children:[void 0!==i&&void 0!==d&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{"data-testid":"quick-add-task",children:[Object(g.jsx)("h2",{className:be.a.title,children:"Quick Add Task"}),Object(g.jsx)("span",{className:be.a.cancelX,"data-testid":"add-task-quick-cancel","aria-label":"Cancel adding task",onClick:function(){b(""),I(!1),A(!1),d(!1)},onKeyDown:function(e){"Enter"===e.key&&(b(""),I(!1),A(!1),d(!1))},tabIndex:0,role:"button",children:Object(g.jsx)(de.f,{})})]})}),Object(g.jsx)("div",{className:be.a.taskProjectOverlay,children:Object(g.jsx)(me,{setProject:v,showProjectOverlay:C,setShowProjectOverlay:A})}),Object(g.jsx)("div",{className:be.a.taskDateOverlay,children:Object(g.jsx)(xe,{setTaskDate:p,showTaskDate:B,setShowTaskDate:M})}),Object(g.jsx)("input",{className:be.a.content,"aria-label":"Enter your task","data-testid":"add-task-content",type:"text",value:j,onChange:function(e){return b(e.target.value)}}),Object(g.jsx)(ke,{onClick:function(){return b(""),v(""),I(!1),A(!1),i&&d?H()&&d(!1):H()},label:"Add Task",color:"primary",dataTestId:"add-task"}),!i&&Object(g.jsx)("span",{className:be.a.buttonCancel,children:Object(g.jsx)(ke,{onClick:function(){b(""),I(!1),A(!1)},label:"Cancel",color:"transparent",dataTestId:"add-task-main-cancel"})}),Object(g.jsx)("span",{className:be.a.project,"data-testid":"show-project-overlay",onClick:function(){return A(!C)},onKeyDown:function(e){"Enter"===e.key&&A(!C)},tabIndex:0,role:"button",children:Object(g.jsx)(de.d,{})}),Object(g.jsx)("span",{className:be.a.date,"data-testid":"show-task-date-overlay",onClick:function(){return M(!B)},onKeyDown:function(e){"Enter"===e.key&&M(!B)},tabIndex:0,role:"button",children:Object(g.jsx)(de.c,{})})]})]})},Me=function(){var e=Object(n.useState)(!1),t=Object(re.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(re.a)(r,2),i=s[0],d=s[1],l=Object(o.useDispatch)(),u=Object(n.useCallback)((function(){return l(function(){var e=Object(S.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("string"===typeof(a=localStorage.getItem("authUser"))&&a.length>0)){e.next=7;break}return n=JSON.parse(a),e.next=5,B(n.refreshToken).then((function(){t(X({userId:"",userEmail:"",userName:""})),localStorage.removeItem("authUser")})).catch((function(e){return console.log(e)}));case 5:e.next=8;break;case 7:console.log("Sorry, we can't logout you, try again later :(");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[l]);return Object(g.jsxs)("header",{className:ie.a.header,"data-testid":"header",children:[Object(g.jsxs)("nav",{className:ie.a.navigation,children:[Object(g.jsx)("div",{className:ie.a.burger,"aria-label":"Close/Open sidebar",children:Object(g.jsx)("button",{className:ie.a.headerBtn,"data-testid":"Close/Open sidebar",type:"button",children:Object(g.jsx)(se.d,{})})}),Object(g.jsx)("div",{className:ie.a.settings,children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{"aria-label":"Quick add task",className:ie.a.settingsItem,children:Object(g.jsx)("button",{type:"button","data-testid":"quick-add-task-action",className:ie.a.headerBtn,onClick:function(){d(!0),c(!0)},children:Object(g.jsx)(se.a,{})})}),Object(g.jsx)("li",{"aria-label":"Sign out",className:ie.a.settingsItem,children:Object(g.jsx)("button",{type:"button",className:ie.a.headerBtn,"data-testid":"sign-out",onClick:u,children:Object(g.jsx)(se.f,{})})})]})})]}),Object(g.jsx)(Be,{showAddTaskMain:!1,showShouldMain:a,showQuickAddTask:i,setShowQuickAddTask:d})]})},Ye=a(70),Le=a.n(Ye),Ue=a(23),Fe=a.n(Ue),He=a(110),Ke=a(31),Qe=a.n(Ke),qe="INBOX",Xe="TODAY",Je="NEXT_7",Ve=a(3),Ge={activeProject:qe},We=Object(Ve.createSlice)({name:"projects",initialState:Ge,reducers:{setActiveProject:function(e,t){e.activeProject=t.payload}}}),Re=We.actions.setActiveProject,Ze=We.reducer,ze=a(44),$e=a.n(ze),et=function(e){var t=e.description,a=e.deleteTask,n=e.onClose;return Object(g.jsxs)("div",{className:$e.a.modal,"data-testid":"small-modal-window",children:[Object(g.jsx)("p",{className:$e.a.title,children:t}),Object(g.jsxs)("div",{className:$e.a.buttons,children:[Object(g.jsx)(ke,{onClick:function(){a()},label:"Delete",color:"primary",dataTestId:"small-modal-window-delete"}),Object(g.jsx)(ke,{onClick:function(){return n()},label:"Cancel",color:"transparent",dataTestId:"small-modal-window-cancel"})]})]})},tt=function(e){var t=e.project,a=e.refetch,c=Object(n.useState)(!1),r=Object(re.a)(c,2),s=r[0],i=r[1],d=Object(n.useRef)(null),l=Object(o.useSelector)((function(e){return ge(e)})),u=Object(o.useDispatch)(),j=Object(n.useCallback)((function(e){return u(Re(e))}),[u]),b=M.useDeleteProjectMutation(),h=Object(re.a)(b,2),O=h[0],m=h[1],p=m.data,f=m.isLoading,x=function(){i(!s)};return function(e,t,a){var c=Object(n.useCallback)((function(t){e.current&&!e.current.contains(t.target)&&a()}),[a,e]);Object(n.useEffect)((function(){return t?document.addEventListener("mousedown",c):document.removeEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}}),[t,c])}(d,s,x),Object(n.useEffect)((function(){!f&&p&&p.success&&a()}),[p,f]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("li",{className:"".concat(Qe.a.project," ").concat(l===t.id?Qe.a.active:""),"data-testid":"project-action-parent",children:Object(g.jsxs)("div",{className:Qe.a.projectAction,children:[Object(g.jsxs)("div",{className:Qe.a.projectItem,"data-testid":"project-action","aria-label":"Select ".concat(t.name," as the task project"),role:"button",tabIndex:0,onClick:function(){j(t.id)},onKeyDown:function(e){"Enter"===e.key&&j(t.id)},children:[Object(g.jsx)("span",{className:Qe.a.dot,children:"\u2022"}),Object(g.jsx)("span",{children:t.name})]}),Object(g.jsxs)("div",{className:Qe.a.delete,"data-testid":"delete-project",onClick:function(){return x()},onKeyDown:function(e){"Enter"===e.key&&x()},tabIndex:0,role:"button","aria-label":"Confirm deletion of project",children:[Object(g.jsx)(se.e,{}),s&&Object(g.jsx)("div",{className:Qe.a.deleteModal,ref:d,children:Object(g.jsx)(et,{description:"Are you sure you want to delete this project?",deleteTask:function(){O(t.id),j(qe)},onClose:function(){return i(!1)}})})]})]})},t.id)})},at=function(){var e=M.useGetAllProjectsByIdQuery(""),t=e.data,a=e.refetch;return Object(g.jsx)("div",{"data-testid":"all-projects",children:t&&t.map((function(e){return Object(g.jsx)(tt,{project:e,refetch:a},Object(He.a)())}))})},nt=a(32),ct=a.n(nt),rt=function(e){var t=e.shouldShow,a=void 0!==t&&t,c=Object(n.useState)(a),r=Object(re.a)(c,2),s=r[0],o=r[1],i=Object(n.useState)({name:"",description:"",id:""}),d=Object(re.a)(i,2),u=d[0],j=d[1],b=M.useGetAllProjectsByIdQuery("").refetch,h=M.useAddProjectMutation(),O=Object(re.a)(h,2),m=O[0],p=O[1],f=p.data,x=p.isLoading;return Object(n.useEffect)((function(){!x&&f&&b()}),[f,x]),Object(g.jsxs)("div",{className:ct.a.wrapper,"data-testid":"add-project",children:[!s&&Object(g.jsxs)("div",{className:ct.a.addProject,"aria-label":"Add Project","data-testid":"add-project-action",onClick:function(){return o(!0)},onKeyDown:function(e){"Enter"===e.key&&o(!0)},role:"button",tabIndex:0,children:[Object(g.jsx)("span",{className:ct.a.plus,children:Object(g.jsx)(se.a,{})}),Object(g.jsx)("span",{className:ct.a.text,children:"Add Project"})]}),s&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:ct.a.input,"data-testid":"add-project-inner",children:Object(g.jsx)("input",{value:u.name,onChange:function(e){return j(Object(l.a)(Object(l.a)({},u),{},{name:e.target.value}))},className:ct.a.name,"data-testid":"project-name",type:"text",placeholder:"Name your project"})}),Object(g.jsxs)("div",{className:ct.a.buttons,children:[Object(g.jsx)(ke,{color:"primary",label:"Add Project",onClick:function(){return m(u),j(Object(l.a)(Object(l.a)({},u),{},{name:""})),void o(!1)},dataTestId:"add-project-submit"}),Object(g.jsx)(ke,{color:"transparent",label:"Cancel",onClick:function(){return o(!1)},dataTestId:"hide-project-overlay"})]})]})]})},st=a(71),ot=a.n(st),it=function(e){var t=e.count;return Object(g.jsx)(g.Fragment,{children:t>0&&Object(g.jsx)("span",{"data-testid":"task-counter",className:ot.a.counter,children:t})})},dt=a(20),lt=function(e){return e.tasks.allTasks},ut=Object(dt.a)(lt,(function(e){return e.filter((function(e){return!e.archived}))})),jt=Object(dt.a)(ut,(function(e){return e.filter((function(e){return e.projectId===qe})).length})),bt=Object(dt.a)(ut,(function(e){return e.filter((function(e){return e.projectId===Xe})).length})),ht=Object(dt.a)(ut,(function(e){return e.filter((function(e){return e.projectId===Je})).length})),Ot=function(e){var t=e.userId,a=Object(n.useState)(!0),c=Object(re.a)(a,2),r=c[0],s=c[1],i=Object(o.useDispatch)(),d=Object(n.useCallback)((function(){return i(function(){var e=Object(S.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L().then((function(e){return e?t(Ce(e)):null}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[i]),l=Object(n.useCallback)((function(e){return i(Re(e))}),[i]),u=Object(n.useMemo)((function(){return jt}),[]),j=Object(n.useMemo)((function(){return bt}),[]),b=Object(n.useMemo)((function(){return ht}),[]),h=Object(o.useSelector)((function(e){return u(e)})),O=Object(o.useSelector)((function(e){return j(e)})),m=Object(o.useSelector)((function(e){return b(e)})),p=Object(o.useSelector)((function(e){return ge(e)}));return Object(n.useEffect)((function(){d()}),[i,d]),Object(g.jsxs)("div",{className:Fe.a.sidebar,"data-testid":"sidebar",children:[Object(g.jsxs)("ul",{className:Fe.a.generic,children:[Object(g.jsx)("li",{"data-testid":"inbox",className:p===qe?Fe.a.active:"",children:Object(g.jsxs)("div",{"aria-label":"Show inbox tasks","data-testid":"inbox-action",onClick:function(){l(qe)},onKeyDown:function(e){"Enter"===e.key&&l(qe)},role:"button",tabIndex:0,children:[Object(g.jsx)("span",{children:Object(g.jsx)(de.a,{})}),Object(g.jsx)("span",{children:"Inbox"}),Object(g.jsx)("span",{className:Fe.a.taskCounterContainer,children:Object(g.jsx)(it,{count:h})})]})}),Object(g.jsx)("li",{"data-testid":"today",className:p===Xe?Fe.a.active:"",children:Object(g.jsx)("div",{"aria-label":"Show today`s tasks","data-testid":"today-action",onClick:function(){l(Xe)},onKeyDown:function(e){"Enter"===e.key&&l(Xe)},role:"button",tabIndex:0,children:Object(g.jsxs)("span",{children:[Object(g.jsx)("span",{children:Object(g.jsx)(de.b,{})}),Object(g.jsx)("span",{children:"Today"}),Object(g.jsx)("span",{className:Fe.a.taskCounterContainer,children:Object(g.jsx)(it,{count:O})})]})})}),Object(g.jsx)("li",{"data-testid":"next_7",className:p===Je?Fe.a.active:"",children:Object(g.jsxs)("div",{"aria-label":"Show tasks for the next 7 days","data-testid":"next_7-action",onClick:function(){l(Je)},onKeyDown:function(e){"Enter"===e.key&&l(Je)},role:"button",tabIndex:0,children:[Object(g.jsx)("span",{children:Object(g.jsx)(de.c,{})}),Object(g.jsx)("span",{children:"Next 7 days"}),Object(g.jsx)("span",{className:Fe.a.taskCounterContainer,children:Object(g.jsx)(it,{count:m})})]})})]}),Object(g.jsxs)("div",{className:Fe.a.middle,onClick:function(){return s(!r)},onKeyDown:function(e){"Enter"===e.key&&s(!r)},"aria-label":"".concat(r?"Hide":"Show"," projects"),role:"button",tabIndex:0,children:[Object(g.jsx)("span",{className:Fe.a.iconChevron,children:Object(g.jsx)(se.c,{className:r?"":Fe.a.hiddenProject})}),Object(g.jsx)("h2",{children:"Projects"})]}),Object(g.jsx)("ul",{className:Fe.a.projects,children:r&&Object(g.jsx)(at,{})}),r&&Object(g.jsx)(rt,{userId:t})]})},mt=(a(108),[{key:"INBOX",name:"Inbox"},{key:"TODAY",name:"Today"},{key:"NEXT_7",name:"Next 7 Days"}]),pt=function(e){return mt.find((function(t){return t.key===e}))},ft=a(38),xt=a.n(ft),_t=a(45),vt=a.n(_t),kt=function(e){var t=e.name,a=e.archiveTask,c=Object(n.useState)(!1),r=Object(re.a)(c,2),s=r[0],o=r[1],i=Object(n.useState)(!1),d=Object(re.a)(i,2),l=d[0],u=d[1],j=function(){u(!0),setTimeout((function(){return a()}),300)};return Object(g.jsx)("div",{className:vt.a.checkboxHolder,"data-testid":"checkbox-action",onClick:function(){return j()},onKeyDown:function(e){"Enter"===e.key&&j()},"aria-label":"Mark ".concat(t," as done?"),role:"button",tabIndex:0,children:Object(g.jsx)("span",{className:"".concat(vt.a.checkbox," ").concat(l&&vt.a.checkboxChecked),"data-testid":"checkbox-circle",onMouseEnter:function(){return o(!0)},onMouseOver:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:(s||l)&&Object(g.jsx)("span",{"data-testid":"checkbox-icon",children:Object(g.jsx)(se.b,{})})})})},gt=function(e){var t=e.id,a=e.name,c=e.description,r=e.archived,s=e.date,i=e.projectId,d=Object(n.useState)(!1),l=Object(re.a)(d,2),u=l[0],j=l[1],b=Object(o.useDispatch)(),h=Object(n.useCallback)((function(e){return b(function(e){return function(){var t=Object(S.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e).then((function(){return a(De(e))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}),[b]),O=Object(n.useCallback)((function(){return b((e=t,n={name:a,description:c,archived:r,date:s,projectId:i},function(){var t=Object(S.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,U(e,n).then((function(){return a(Ee(e))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e,n}),[b,t,a,c,r,s,i]);return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("li",{"data-testid":"task",children:[Object(g.jsxs)("div",{className:xt.a.taskBody,children:[Object(g.jsx)(kt,{name:a,archiveTask:O}),Object(g.jsx)("span",{className:xt.a.name,children:a})]}),Object(g.jsxs)("div",{className:xt.a.kebab,"data-testid":"task-kebab",role:"button",tabIndex:0,"aria-label":"".concat(u?"Close":"Open",' delete task "').concat(a,'" modal?'),onClick:function(){return j(!u)},onKeyDown:function(e){"Enter"===e.key&&j(!u)},children:[Object(g.jsx)(se.e,{}),u&&Object(g.jsx)("div",{className:xt.a.modal,children:Object(g.jsx)(et,{description:"Are you sure you want to delete this task?",deleteTask:function(){return h(t)},onClose:function(){return j(!1)}})})]})]})})},yt=function(){var e,t=Object(o.useSelector)((function(e){return ge(e)})),a=M.useGetAllProjectsByIdQuery("").data,c=Object(o.useSelector)((function(e){return lt(e)})),r=function(){var e="";return a&&a.length>0&&t&&!pt(t)&&(e=function(e,t){var a=e.find((function(e){return e.id===t}));return void 0!==a?a.name:""}(a,t)),pt(t)&&t&&(e=function(e,t){var a=e.find((function(e){return e.key===t}));return void 0!==a?a.name:""}(mt,t)),e}(),s=(e=t,c.filter((function(t){return t.projectId===e&&!t.archived})));return Object(n.useEffect)((function(){document.title="BOO\u2014BOO: ".concat(r," tasks")}),[r]),Object(g.jsxs)("div",{className:"tasks","data-testid":"tasks",children:[Object(g.jsx)("h2",{"data-testid":"project-name",children:r}),s.length>0&&Object(g.jsx)("ul",{className:"tasks__list",children:s.map((function(e){return Object(g.jsx)(gt,{id:e.id,name:e.name,archived:e.archived,projectId:t,date:e.date,description:e.description},Object(He.a)())}))}),Object(g.jsx)(Be,{}),0===s.length&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"tasks__done"}),Object(g.jsx)("div",{className:"tasks__done-text","data-testid":"task-not-found",children:"All tasks are done! Nice work!"})]})]})},Nt=function(e){var t=e.userId;return Object(g.jsxs)("section",{className:Le.a.content,"data-testid":"content",children:[Object(g.jsx)(Ot,{userId:t}),Object(g.jsx)(yt,{})]})},wt=function(e){var t=e.userId;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Me,{}),Object(g.jsx)(Nt,{userId:t})]})},St=function(){var e=Object(o.useSelector)((function(e){return function(e){return e.auth.user||{}}(e)}));return Object(g.jsx)(i.a,{children:Object(g.jsx)("main",{"data-testid":"application",children:Object(g.jsxs)(d.d,{children:[Object(g.jsx)(ee,{user:e,loggedInPath:p,path:x,exact:!0,children:Object(g.jsx)(G,{})}),Object(g.jsx)(ee,{user:e,loggedInPath:p,path:f,exact:!0,children:Object(g.jsx)(Z,{})}),Object(g.jsx)(te,{user:e,path:p,exact:!0,children:Object(g.jsx)(wt,{userId:e.userId})}),Object(g.jsx)(ee,{user:e,loggedInPath:p,path:m,exact:!0,children:Object(g.jsx)(ce,{})})]})})})},It=function(){var e=Object(o.useDispatch)();return Object(n.useEffect)((function(){e(J())}),[e]),Object(g.jsx)(St,{})},Pt=a(24),Tt=Object(Ve.configureStore)({reducer:Object(Pt.a)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:case K:return Object(l.a)(Object(l.a)({},e),{},{user:Object(l.a)({},t.payload)});default:return e}},projects:Ze,tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case we:return Object(l.a)(Object(l.a)({},e),{},{allTasks:n});case Se:return Object(l.a)(Object(l.a)({},e),{},{allTasks:[].concat(Object(ye.a)(e.allTasks),[n])});case Ie:return Object(l.a)(Object(l.a)({},e),{},{allTasks:Te(e.allTasks,n)});case Pe:return Object(l.a)(Object(l.a)({},e),{},{allTasks:e.allTasks.filter((function(e){return e.id!==n}))});default:return e}}},M.reducerPath,M.reducer),middleware:function(e){return e().concat(M.middleware)}});s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(o.Provider,{store:Tt,children:Object(g.jsx)(It,{})})}),document.getElementById("root"))},15:function(e,t,a){e.exports={addTask:"AddTask_addTask__2Ugjm",main:"AddTask_main__1bUQA",shallow:"AddTask_shallow__3pa2z",plus:"AddTask_plus__2lw5V",text:"AddTask_text__2_gNQ",overlay:"AddTask_overlay__oXkVy",header:"AddTask_header__1wYDu",title:"AddTask_title__2E6ow",cancelX:"AddTask_cancelX__2D_fA",content:"AddTask_content__uA7ee",buttonCancel:"AddTask_buttonCancel__1XUXG",project:"AddTask_project__1r-PM",date:"AddTask_date__1tPWl",taskDateOverlay:"AddTask_taskDateOverlay__1SLjF",taskProjectOverlay:"AddTask_taskProjectOverlay__1ybxY"}},23:function(e,t,a){e.exports={sidebar:"Sidebar_sidebar__3cG75",middle:"Sidebar_middle__N1k6s",iconChevron:"Sidebar_iconChevron__3Ds2I",hiddenProject:"Sidebar_hiddenProject__jDQIo",generic:"Sidebar_generic__3puY9",taskCounterContainer:"Sidebar_taskCounterContainer__3s1Zr",active:"Sidebar_active__2p_6l",projects:"Sidebar_projects__NV7FY"}},27:function(e,t,a){e.exports={homePageBody:"HomePage_homePageBody__1soNb",header:"HomePage_header__ae_0k",navList:"HomePage_navList__2VpEI",navListUl:"HomePage_navListUl__QrhXn",navListElement:"HomePage_navListElement__2cQFc",navListElement__mainColored:"HomePage_navListElement__mainColored__2yK9w",headerTitle:"HomePage_headerTitle__24we4",getStartedContainer:"HomePage_getStartedContainer__2U2sO",getStarted:"HomePage_getStarted__3kN_G",manImage:"HomePage_manImage__2E1QB"}},29:function(e,t,a){e.exports={header:"Header_header__1kC_1",headerBtn:"Header_headerBtn__1FQ94",navigation:"Header_navigation__1F-n-",burger:"Header_burger__2igPP",settings:"Header_settings__2Fx6A",settingsItem:"Header_settingsItem__1Exfk"}},30:function(e,t,a){e.exports={taskDate:"TaskDate_taskDate__3kxT4",list:"TaskDate_list__2aUbJ",listItem:"TaskDate_listItem__1RylB",listItemElement:"TaskDate_listItemElement__21kk0"}},31:function(e,t,a){e.exports={project:"IndividualProject_project__2egx8",active:"IndividualProject_active__2AD-w",projectAction:"IndividualProject_projectAction__xnBbi",projectItem:"IndividualProject_projectItem__bZeOC",dot:"IndividualProject_dot__2Yp4I",delete:"IndividualProject_delete__24kxa",deleteModal:"IndividualProject_deleteModal__1ec4X"}},32:function(e,t,a){e.exports={addProject:"AddProject_addProject__4r_sS",wrapper:"AddProject_wrapper__3tKyv",plus:"AddProject_plus__3VQvq",text:"AddProject_text__3EbNs",input:"AddProject_input__3VuJo",name:"AddProject_name__2L3qv",buttons:"AddProject_buttons__g7v2e"}},37:function(e,t,a){e.exports={projectOverlay:"ProjectOverlay_projectOverlay__1F7Py",overlayList:"ProjectOverlay_overlayList__3QaBQ",listItem:"ProjectOverlay_listItem__3IjJM"}},38:function(e,t,a){e.exports={taskBody:"Task_taskBody__Vbd0B",name:"Task_name__2X5qg",kebab:"Task_kebab__3ioTP",modal:"Task_modal___ObYf"}},44:function(e,t,a){e.exports={modal:"SmallModalWindow_modal__S1KqR",title:"SmallModalWindow_title__4mvRU",buttons:"SmallModalWindow_buttons__1AH4-"}},45:function(e,t,a){e.exports={checkboxHolder:"Checkbox_checkboxHolder__2PH8Y",checkbox:"Checkbox_checkbox__1JiEP",checkboxChecked:"Checkbox_checkboxChecked__1sgu1"}},52:function(e,t,a){e.exports={mainBtn:"Button_mainBtn__1tTlS",primary:"Button_primary__3kWYq",transparent:"Button_transparent__12jVQ"}},66:function(e,t,a){e.exports={wrapper:"SignIn_wrapper__1wYbs"}},67:function(e,t,a){e.exports={logo:"Logo_logo__32NGX"}},69:function(e,t,a){e.exports={wrapper:"SignUp_wrapper__TMV63"}},70:function(e,t,a){e.exports={content:"Content_content__1r29_"}},71:function(e,t,a){e.exports={counter:"TaskCounter_counter__3mcJc"}},8:function(e,t,a){e.exports={mainWrapper:"mainStylesForPages_mainWrapper__3mWTf",header:"mainStylesForPages_header__2L5tl",main:"mainStylesForPages_main__2lAMh",formBox:"mainStylesForPages_formBox__26AGZ",title:"mainStylesForPages_title__2Vs5s",form:"mainStylesForPages_form__15MAZ",button:"mainStylesForPages_button__1zZ-w",footerParagraph:"mainStylesForPages_footerParagraph__vavVR",footerLink:"mainStylesForPages_footerLink__3_n8F",errorMessage:"mainStylesForPages_errorMessage__2CUpC"}},83:function(e,t,a){}},[[109,1,2]]]);
//# sourceMappingURL=main.e4ad72b4.chunk.js.map